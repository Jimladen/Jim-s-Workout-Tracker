<div class="row">
    <div class="col-md-12">
        <nav class="navbar navbar-default" role="navigation">
            <div class="navbar-header">
                <a class="btn btn btn-primary" ng-click="addNewWorkout()"><i class="glyphicon glyphicon-plus"></i>&nbsp;Add New Workout</a>
            </div>
        </nav>
        <div class="row title">
            <div class="col-xs-12">
                <h1>Workouts</h1>
            </div>
        </div>
        <div ng-repeat="workout in workouts">
            <div class="row workoutName" ng-click="showExercise = !showExercise" ng-class="{'active' : showExercise == true}">
                <div class="paddingAll">
                    <form>
                        <div class="col-xs-10">
                            <input type="text" placeholder="{{workout.workoutName}}" ng-model="workout.workoutName" ng-blur="saveWorkoutName($index)"></input>
                        </div>
                        <div class="col-xs-2">
                            <span class="glyphicon glyphicon-chevron-right">&nbsp;</span>
                        </div>
                        <div class="clearfix visible-xs-block"></div>
                        <!-- <button ng-click="editName = !editName" ng-hide="editName" class="btn btn-xs btn-primary">Edit</button> -->
                        <!-- <button ng-click="saveWorkoutName($index); editName = !editName" ng-show="editName" class="btn btn-xs btn-primary">Save</button>
                            <button ng-click="deleteWorkout($index); editName = !editName" ng-show="editName" class="btn btn-xs btn-danger">Delete</button>
                            <button ng-click="editName = !editName" ng-show="editName" class="btn btn-xs btn-warning">Cancel</button> -->
                    </form>
                </div>
            </div>
            <div ng-repeat="exercise in workout.exercises" ng-show="showExercise" class="showExercise" ng-class="{animated: true}" ng-animate="{enter: 'animate-enter', leave: 'animate-leave'}">
                <div class="row exercises" ng-click="showSet = !showSet" ng-animate="{enter: 'animate-enter', leave: 'animate-leave'}">
                    <div class="paddingAll">
                        <div class="col-xs-10">
                            <p><span ng-model="exerciseName">{{exercise.exerciseName}}</span>
                                <button ng-click="deleteWorkout($index)" class="btn btn-xs btn-danger" ng-show="editName">Delete Exercise</button>
                            </p>
                        </div>
                        <div class="col-xs-2">
                            <span class="glyphicon glyphicon-chevron-right">&nbsp;</span>
                        </div>
                        <div class="clearfix"></div>
                    </div>
                </div>
                <div class="row sets" ng-show="showSet">
                    <div class="paddingAll">
                        <!--   <div class="col-xs-12" ng-repeat="set in exercise.exercise_data">
                            <p>Set: {{$index + 1}} - Reps: {{set.reps}} - Weight: {{set.weight}}kg</p>
                            <label for="reps">Reps:</label>
                            <input name="reps" type="number" placeholder="{{set.reps}}" ng-model="set.reps">
                            <br/>
                            <label for="weight">Weight:</label>
                            <input name="weight" type="number" placeholder="{{set.weight}}" ng-model="set.weight">
                            <br>
                            <button class="btn-xs btn-danger" ng-click="deleteSet($parent.$parent.$index, $parent.$index, .$index)" ng-show="editName">Delete Set</button>
                            <br>
                        </div> -->
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>
                                        Set
                                    </th>
                                    <th>
                                        Weight(kg)
                                    </th>
                                    <th>
                                        Reps
                                    </th>
                                </tr>
                            </thead>
                            <tr ng-repeat="set in exercise.exercise_data">
                                <td>
                                    {{$index + 1}}
                                </td>
                                <td>
                                    <input name="weight" type="number" placeholder="{{set.weight}}" ng-model="set.weight">
                                </td>
                                <td>
                                    <input name="reps" type="number" placeholder="{{set.reps}}" ng-model="set.reps">
                                </td>
                            </tr>
                            <tr>
                                <table class="table">
                                    <tr>
                                        <td>
                                            <a ng-click="addSet($parent.$index, $index)" class="btn btn-primary btn-xs">Add set</a>
                                        </td>
                                    </tr>
                                </table>
                            </tr>
                        </table>
                        <table class="table">
                            <tr>
                                <th>
                                    1RM
                                </th>
                                <th>
                                    90% 1RM
                                </th>
                                <th>
                                    Reps
                                </th>
                            </tr>
                            <tr>
                                <td>
                                    {{exercise.oneRepMax}}
                                </td>
                                <td>
                                    {{exercise.targetWeight}}
                                </td>
                                <td>
                                    {{totalReps($parent.$index, $index)}}
                                </td>
                            </tr>
                        </table>
                        </table>
                        <div class="clearfix visible-xs-block"></div>
                        <div class="col-xs-12">
                            <br>
                            <a ng-click="addSet($parent.$index, $index)" class="btn btn-primary btn-xs">Add set</a>
                            <button class="btn btn-success btn-xs" ng-click="saveAllExerciseData($parent.$index, $index)">Save exercise data</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row sets" >
        <div class="paddingAll">
            <div class="col-xs-12">
                <br>
                <a ng-click="exerciseSelect = !exerciseSelect" class="btn btn-primary">Add exercise</a>
                <div ng-show="exerciseSelect" ng-controller="exerciseListCtrl">
                    <input type="text" class="form-control" ng-model="searchExerciseTerm" placeholder="Start typing exercise name...">
                    <span ng-bind="exerciseName"></span>
                    <span ng-repeat="d in muscleGroupsFilter">
                        <button type="button" class="btn" ng-click="filters.muscleGroup = d.muscleGroup">
                            {{d.muscleGroup}}
                        </button>
                        </span>
                    <button type="button" class="btn" ng-click="filters = {}" ng-show="filters.muscleGroup">{{filters.muscleGroup}} <span class="glyphicon glyphicon-remove"></span></button>
                    <table class="table table-striped table-bordered">
                        <thead>
                            <th>Exercise Name&nbsp;</th>
                            <th>Muscle Group&nbsp;</th>
                        </thead>
                        <tbody>
                            <tr ng-repeat="data in exercises | filter:filters | orderBy: 'exerciseName' | searchExercises:searchExerciseTerm">
                                <td><a ng-click="addItem($parent.$index, data.exerciseName); filters = {} ; exerciseSelect = !exerciseSelect">{{data.exerciseName}}</a></td>
                                <td><a ng-click="filters.muscleGroup = data.muscleGroup">{{data.muscleGroup}}</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
</div>
<div class="col-md-12" ng-show="workouts.length == 0">
    <div class="col-md-12">
        <h4>No workouts found</h4>
    </div>
</div>
</div>